<!doctype html>
<html class="no-js" lang="">

<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>Magazine | Dashboard</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- favicon
		============================================ -->
    <link rel="shortcut icon" type="image/x-icon" href="<?php echo base_url(); ?>/public/back/img/favicon.ico">
    <!-- Google Fonts
		============================================ -->
    <link href="https://fonts.googleapis.com/css?family=Roboto:100,300,400,700,900" rel="stylesheet">
    <!-- Bootstrap CSS
		============================================ -->
    <link rel="stylesheet" href="<?php echo base_url(); ?>/public/back/css/bootstrap.min.css">
    <!-- font awesome CSS
		============================================ -->
    <link rel="stylesheet" href="<?php echo base_url(); ?>/public/back/css/font-awesome.min.css">
    <!-- owl.carousel CSS
		============================================ -->
    <link rel="stylesheet" href="<?php echo base_url(); ?>/public/back/css/owl.carousel.css">
    <link rel="stylesheet" href="<?php echo base_url(); ?>/public/back/css/owl.theme.css">
    <link rel="stylesheet" href="<?php echo base_url(); ?>/public/back/css/owl.transitions.css">
    <!-- meanmenu CSS
		============================================ -->
    <link rel="stylesheet" href="<?php echo base_url(); ?>/public/back/css/meanmenu/meanmenu.min.css">
    <!-- Notika icon CSS
		============================================ -->
    <link rel="stylesheet" href="<?php echo base_url(); ?>/public/back/css/notika-custom-icon.css">
    <!-- mCustomScrollbar CSS
		============================================ -->
    <link rel="stylesheet" href="<?php echo base_url(); ?>/public/back/css/scrollbar/jquery.mCustomScrollbar.min.css">
    <!-- animate CSS
		============================================ -->
    <link rel="stylesheet" href="<?php echo base_url(); ?>/public/back/css/animate.css">
    <!-- normalize CSS
		============================================ -->
    <link rel="stylesheet" href="<?php echo base_url(); ?>/public/back/css/normalize.css">
    <!-- wave CSS
		============================================ -->
    <link rel="stylesheet" href="<?php echo base_url(); ?>/public/back/css/wave/waves.min.css">
    <!-- main CSS
		============================================ -->
    <link rel="stylesheet" href="<?php echo base_url(); ?>/public/back/css/main.css">
    <!-- style CSS
		============================================ -->
    <link rel="stylesheet" href="<?php echo base_url(); ?>/public/back/css/style.css">
    <!-- responsive CSS
		============================================ -->
    <link rel="stylesheet" href="<?php echo base_url(); ?>/public/back/css/responsive.css">
    <!-- modernizr JS
		============================================ -->
    <script src="<?php echo base_url(); ?>/public/back/js/vendor/modernizr-2.8.3.min.js"></script>
</head>

<body>
    <!--[if lt IE 8]>
            <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
        <![endif]-->
    <!-- Start Header Top Area -->
    <div class="header-top-area">
        <div class="container">
            <div class="row">
                <div class="col-lg-4 col-md-4 col-sm-12 col-xs-12">
                    <div class="logo-area">
                        <a href="<?php echo base_url(); ?>/back" style="color: white;">
                            <h2>MAGAZINE</h2>
                        </a>
                    </div>
                </div>
                <div class="col-lg-8 col-md-8 col-sm-12 col-xs-12">
                    <div class="header-top-menu">
                        <ul class="nav navbar-nav notika-top-nav">
                            <li class="nav-item"><a href="#" data-toggle="dropdown" role="button" aria-expanded="false" class="nav-link dropdown-toggle"><span><i class="notika-icon notika-menus"></i></a>
                                <div role="menu" class="dropdown-menu message-dd task-dd animated zoomIn">
                                    <div class="hd-mg-va">
                                        <a href="<?php echo base_url(); ?>/back/logout">log out</a>
                                    </div>
                                </div>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- End Header Top Area -->
    <!-- Mobile Menu start -->
    <div class="mobile-menu-area">
        <div class="container">
            <div class="row">
                <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                    <div class="mobile-menu">
                        <nav id="dropdown">
                            <ul class="mobile-menu-nav">
                                <li><a href="#">Home</a>
                                </li>
                            </ul>
                        </nav>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Mobile Menu end -->
    <!-- Main Menu area start-->
    <div class="main-menu-area mg-tb-40">
        <div class="container">
            <div class="row">
                <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                    <ul class="nav nav-tabs notika-menu-wrap menu-it-icon-pro">
                        <li class="active"><a href="#Home"><i class="notika-icon notika-house"></i> Home</a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
    <!-- Main Menu area End-->
    <!-- Breadcomb area Start-->
    <div class="breadcomb-area">
        <div class="container">
            <div class="row">
                <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                    <div class="breadcomb-list">
                        <div class="row">
                            <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12">
                                <div class="breadcomb-wp">
                                    <div class="breadcomb-icon">
                                        <i class="notika-icon notika-house"></i>
                                    </div>
                                    <div class="breadcomb-ctn">
                                        <h2>Welcome to the dashboard</h2>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Breadcomb area End-->
    <!-- Start Status area -->

    <!-- End Status area-->
    <!-- Start Email Statistic area-->
    <div class="notika-email-post-area">
        <div class="container">
            <div class="row">
                <div class="col-lg-4 col-md-6 col-sm-6 col-xs-12">
                    <div class="contact-form sm-res-mg-t-30 tb-res-mg-t-30 tb-res-mg-t-0">
                        <div class="contact-hd sm-form-hd">
                            <h2>Insert Article</h2>
                        </div>

                        <div class="contact-form-int">
                            <?php //enctype="multipart/form-data"
                            ?>
                            <form action="<?php echo base_url(); ?>/back/insertArticle" enctype="multipart/form-data" method="post" id="forminsert">
                                <div class="form-group">
                                    <div class="form-single nk-int-st widget-form">
                                        <textarea name="titre" class="form-control" required placeholder="Titre" form="forminsert"></textarea>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <div class="form-single nk-int-st widget-form">
                                        <textarea name="description" class="form-control" required placeholder="Description" form="forminsert"></textarea>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <div class="form-single nk-int-st widget-form">
                                        <textarea name="contenu" class="form-control" required placeholder="Contenu" form="forminsert"></textarea>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <div class="form-single nk-int-st widget-form">
                                        <input type="file" name="photo" required id="tof" class="form-control" />
                                    </div>
                                </div>
                                <div class="form-group">
                                    <div class="form-single nk-int-st widget-form">
                                        <select name="categorie" required>
                                            <?php for ($i = 0; $i < count($categs); $i++) { ?>
                                                <option value="<?= $categs[$i]->getId() ?>"><?= $categs[$i]->getNom() ?></option>
                                            <?php } ?>
                                        </select>
                                    </div>
                                </div>
                                <div class="contact-btn">
                                    <button type="submit" class="button btn">inserer</button>
                                </div>
                                <!-- <input type="hidden" class="form-control" name="base64" id="base" value=""/> -->
                            </form>
                        </div>
                    </div>
                </div>
                <div class="col-lg-4 col-md-6 col-sm-6 col-xs-12">
                    <div class="contact-form sm-res-mg-t-30 tb-res-mg-t-30 tb-res-mg-t-0">
                        <div class="contact-hd sm-form-hd">
                            <h2>Insert Categorie Article</h2>
                        </div>

                        <div class="contact-form-int">
                            <?php //enctype="multipart/form-data"
                            ?>
                            <form action="<?php echo base_url(); ?>/back/insertCategorieArticle" method="post">
                                <div class="form-group">
                                    <div class="form-single nk-int-st widget-form">
                                        <input type="text" name="nom" required id="tof" class="form-control" placeholder="nom" />
                                    </div>
                                </div>
                                <div class="contact-btn">
                                    <button type="submit" class="button btn">inserer</button>
                                </div>
                                <!-- <input type="hidden" class="form-control" name="base64" id="base" value=""/> -->
                            </form>
                        </div>
                    </div>
                </div>
                <div class="col-lg-4 col-md-6 col-sm-6 col-xs-12">
                    <div class="contact-form sm-res-mg-t-30 tb-res-mg-t-30 tb-res-mg-t-0">
                        <div class="contact-hd sm-form-hd">
                            <h2>Update Article</h2>
                        </div>
                        <?php if (!isset($update)) { ?>
                            <form action="<?php echo base_url(); ?>/back" method="post" id="forminsert">
                                <div class="row">

                                    <div class=" col-lg-9">

                                        <select name="article" required>
                                            <?php for ($i = 0; $i < count($allarticle); $i++) { ?>
                                                <option value="<?= $allarticle[$i]->getId() ?>"><?= substr($allarticle[$i]->getTitre(),0,35) ?>...</option>
                                            <?php } ?>
                                        </select>

                                    </div>
                                    <div class="col-lg-3">
                                        <button type="submit" class="button btn">update</button>
                                    </div>
                                </div>
                            </form>
                        <?php } else { ?>
                            <div class="contact-form-int">
                                <?php //enctype="multipart/form-data"
                                ?>
                                <form action="<?php echo base_url(); ?>/back/updateArticle" enctype="multipart/form-data" method="post" id="formupdate">
                                    <div class="form-group">
                                        <div class="form-single nk-int-st widget-form">
                                            <textarea name="titre" class="form-control" required  form="formupdate" ><?= $update[0]->getTitre() ?></textarea>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <div class="form-single nk-int-st widget-form">
                                            <textarea name="description" class="form-control" required placeholder="Description" form="formupdate"><?= $update[0]->getDescription() ?></textarea>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <div class="form-single nk-int-st widget-form">
                                            <textarea name="contenu" class="form-control" required placeholder="Contenu" form="formupdate"><?= $update[0]->getContenu() ?></textarea>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <div class="form-single nk-int-st widget-form">
                                            <label for="photo" style="color: red;">*ne pas selectionner une photo si vous ne l'updatez pas</label>
                                            <input type="file" name="photo"  id="tof"  class="form-control" />
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <div class="form-single nk-int-st widget-form">
                                            <select name="categorie" required>
                                                <?php for ($i = 0; $i < count($categs); $i++) { ?>
                                                <option value="<?= $categs[$i]->getId() ?>" <?php if($update[0]->getCategorie()==$categs[$i]->getNom()) {?>selected="selected"<?php } ?> ><?= $categs[$i]->getNom() ?></option>
                                                <?php } ?>
                                            </select>
                                        </div>
                                    </div>
                                    <div class="contact-btn">
                                        <button type="submit" class="button btn">inserer</button>
                                    </div>
                                    <input type="hidden" class="form-control" name="id" value="<?= $update[0]->getId() ?>"/>
                                </form>
                            </div>
                        <?php } ?>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- End Email Statistic area-->
    <!-- Start Contact Info area-->
    <!-- <div class="contact-info-area mg-t-30">
        <div class="container">
            <div class="row">
                <div class="col-lg-4 col-md-6 col-sm-6 col-xs-12">
                    <div class="contact-inner">
                        <div class="contact-hd widget-ctn-hd">
                            <h2>Contact Information</h2>
                            <p>Fusce eget dolor id justo luctus commodo vel pharetra nisi. Donec velit libero</p>
                        </div>
                        <div class="contact-dt">
                            <ul class="contact-list widget-contact-list">
                                <li><i class="notika-icon notika-phone"></i> +8801962067309</li>
                                <li><i class="notika-icon notika-mail"></i> lucid@gmail.com</li>
                                <li><i class="notika-icon notika-facebook"></i> facebook</li>
                                <li><i class="notika-icon notika-twitter"></i> @lucid twitter</li>
                                <li><i class="notika-icon notika-map"></i> 44-46 uttara Road, Bangladesh</li>
                            </ul>
                        </div>
                    </div>
                </div>
                <div class="col-lg-4 col-md-6 col-sm-6 col-xs-12">
                    <div class="contact-form sm-res-mg-t-30 tb-res-mg-t-30 tb-res-mg-t-0">
                        <div class="contact-hd sm-form-hd">
                            <h2>Sample Form</h2>
                            <p>Fusce eget dolor id justo luctus commodo vel pharetra nisi. Donec velit libero</p>
                        </div>
                        <div class="contact-form-int">
                            <div class="form-group">
                                <div class="form-single nk-int-st widget-form">
                                    <input type="text" class="form-control" placeholder="First Name" />
                                </div>
                            </div>
                            <div class="form-group">
                                <div class="form-single nk-int-st widget-form">
                                    <input type="text" class="form-control" placeholder="Last Name" />
                                </div>
                            </div>
                            <div class="form-group">
                                <div class="form-single nk-int-st widget-form">
                                    <input type="email" class="form-control" placeholder="Email Address" />
                                </div>
                            </div>
                            <div class="form-group">
                                <div class="form-single nk-int-st widget-form">
                                    <input type="number" class="form-control" placeholder="Contact Number" />
                                </div>
                            </div>
                            <div class="form-group">
                                <div class="form-single nk-int-st widget-form">
                                    <textarea name="message" class="form-control" placeholder="Message"></textarea>
                                </div>
                            </div>
                            <div class="contact-btn">
                                <button class="button btn">Button</button>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-lg-4 col-md-6 col-sm-6 col-xs-12">
                    <div class="widget-tabs-int sm-res-mg-t-30 tb-res-mg-t-30 tb-res-ds-n dk-res-ds">
                        <div class="contact-hd tm-activity">
                            <h2>Team Activity</h2>
                            <p>Fusce eget dolor id justo luctus commodo vel pharetra nisi. Donec velit libero</p>
                        </div>
                        <div class="widget-tabs-list">
                            <ul class="nav nav-tabs">
                                <li class="active"><a data-toggle="tab" href="#home">Tab One</a></li>
                                <li><a data-toggle="tab" href="#menu1">Tab Two</a></li>
                                <li><a data-toggle="tab" href="#menu2">Tab Three</a></li>
                            </ul>
                            <div class="tab-content">
                                <div id="home" class="tab-pane fade in active">
                                    <div class="tab-wd-img">
                                        <img src="<?php echo base_url(); ?>/public/back/img/widgets/6.png" alt="" />
                                    </div>
                                    <div class="tab-ctn">
                                        <p>Serhoncus quis est sit amete in nisl molestie of fringilla. Nunc vitae ante magna feugiat condi. Serhoncus quis est cry int fly.</p>
                                        <ul class="tab-ctn-list">
                                            <li><i class="notika-icon notika-next"></i> Serhoncus quis est cry int fly.</li>
                                            <li><i class="notika-icon notika-next"></i> Nisl molestie fringi cry int pro.</li>
                                            <li><i class="notika-icon notika-next"></i> Maecenas sit amet urna cry int.</li>
                                        </ul>
                                    </div>
                                </div>
                                <div id="menu1" class="tab-pane fade">
                                    <div class="tab-wd-img">
                                        <img src="<?php echo base_url(); ?>/public/back/img/widgets/2.png" alt="" />
                                    </div>
                                    <div class="tab-ctn">
                                        <p>Serhoncus quis est sit amete in nisl molestie of fringilla. Nunc vitae ante magna feugiat condi. Serhoncus quis est cry int fly.</p>
                                        <ul class="tab-ctn-list">
                                            <li><i class="notika-icon notika-next"></i> Serhoncus quis est cry int fly.</li>
                                            <li><i class="notika-icon notika-next"></i> nisl molestie fringi cry int pro.</li>
                                            <li><i class="notika-icon notika-next"></i> Maecenas sit amet urna cry int.</li>
                                        </ul>
                                    </div>
                                </div>
                                <div id="menu2" class="tab-pane fade">
                                    <div class="tab-wd-img">
                                        <img src="<?php echo base_url(); ?>/public/back/img/widgets/4.png" alt="" />
                                    </div>
                                    <div class="tab-ctn">
                                        <p>Serhoncus quis est sit amete in nisl molestie of fringilla. Nunc vitae ante magna feugiat condi. Serhoncus quis est cry int fly.</p>
                                        <ul class="tab-ctn-list">
                                            <li><i class="notika-icon notika-next"></i> Serhoncus quis est cry int fly.</li>
                                            <li><i class="notika-icon notika-next"></i> nisl molestie fringi cry int pro.</li>
                                            <li><i class="notika-icon notika-next"></i> Maecenas sit amet urna cry int.</li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div> -->
    <!-- End Contact Info area-->
    <!-- Start Footer area-->
    <div class="footer-copyright-area">
        <div class="container">
            <div class="row">
                <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                    <div class="footer-copy-right">
                        <p>Copyright © 2018
                            . All rights reserved. </p>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- End Footer area-->
    <!-- jquery
        ============================================ -->
    <script>
        const form = document.querySelector('#forminsert');
        // const base=document.querySelector('#base');
        // form.addEventListener('submit',(e)=>{
        //     e.preventDefault();
        //     Main().then(res=>{
        //         // base.value=res;
        //         // console.log(res);
        //         if(base.value!='')form.submit();
        //     });
        // });
        const toBase64 = file => new Promise((resolve, reject) => {
            const reader = new FileReader();
            reader.readAsDataURL(file);
            reader.onload = () => resolve(reader.result);
            reader.onerror = error => reject(error);
        });
        async function Main() {
            const file = document.querySelector('#tof').files[0];
            return await toBase64(file);
        }
    </script>
    <script src="<?php echo base_url(); ?>/public/back/js/vendor/jquery-1.12.4.min.js"></script>
    <!-- bootstrap JS
		============================================ -->
    <script src="<?php echo base_url(); ?>/public/back/js/bootstrap.min.js"></script>
    <!-- wow JS
		============================================ -->
    <script src="<?php echo base_url(); ?>/public/back/js/wow.min.js"></script>
    <!-- price-slider JS
		============================================ -->
    <script src="<?php echo base_url(); ?>/public/back/js/jquery-price-slider.js"></script>
    <!-- owl.carousel JS
		============================================ -->
    <script src="<?php echo base_url(); ?>/public/back/js/owl.carousel.min.js"></script>
    <!-- scrollUp JS
		============================================ -->
    <script src="<?php echo base_url(); ?>/public/back/js/jquery.scrollUp.min.js"></script>
    <!-- meanmenu JS
		============================================ -->
    <script src="<?php echo base_url(); ?>/public/back/js/meanmenu/jquery.meanmenu.js"></script>
    <!-- counterup JS
		============================================ -->
    <script src="<?php echo base_url(); ?>/public/back/js/counterup/jquery.counterup.min.js"></script>
    <script src="<?php echo base_url(); ?>/public/back/js/counterup/waypoints.min.js"></script>
    <script src="<?php echo base_url(); ?>/public/back/js/counterup/counterup-active.js"></script>
    <!-- sparkline JS
		============================================ -->
    <script src="<?php echo base_url(); ?>/public/back/js/sparkline/jquery.sparkline.min.js"></script>
    <script src="<?php echo base_url(); ?>/public/back/js/sparkline/sparkline-active.js"></script>
    <!-- knob JS
		============================================ -->
    <script src="<?php echo base_url(); ?>/public/back/js/knob/jquery.knob.js"></script>
    <script src="<?php echo base_url(); ?>/public/back/js/knob/jquery.appear.js"></script>
    <script src="<?php echo base_url(); ?>/public/back/js/knob/knob-active.js"></script>
    <!-- mCustomScrollbar JS
		============================================ -->
    <script src="<?php echo base_url(); ?>/public/back/js/scrollbar/jquery.mCustomScrollbar.concat.min.js"></script>
    <!-- flot JS
		============================================ -->
    <script src="<?php echo base_url(); ?>/public/back/js/flot/flot-widget-anatic-active.js"></script>
    <script src="<?php echo base_url(); ?>/public/back/js/flot/chart-tooltips.js"></script>
    <script src="<?php echo base_url(); ?>/public/back/js/flot/flot-active.js"></script>
    <!--  wave JS
		============================================ -->
    <script src="<?php echo base_url(); ?>/public/back/js/wave/waves.min.js"></script>
    <script src="<?php echo base_url(); ?>/public/back/js/wave/wave-active.js"></script>
    <!-- plugins JS
		============================================ -->
    <script src="<?php echo base_url(); ?>/public/back/js/plugins.js"></script>
    <!-- Google map JS
		============================================ -->
    <!-- main JS
		============================================ -->
    <script src="<?php echo base_url(); ?>/public/back/js/main.js"></script>
    <!-- tawk chat JS
		============================================ -->
</body>

</html>